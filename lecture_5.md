# Лекция №5 по ООП
>Все члены объекта должны быть проинициализированны

В C++ конструктор класса — это специальный метод, который автоматически вызывается при создании объекта класса. Он используется для инициализации полей класса и выполнения других подготовительных действий.

Пример конструктора класса:

```C++
class MyClass
{
public:
    MyClass()
    {   // Конструктор по умолчанию
        std::cout << "Объект создан!" << std::endl;
    }
};
```

Члены объекта мы можем инциализировать в теле конструктора или в разделе инициализации, с помощью оператора присваивания

Если член объекта является объектом, то он должен инициализироваться в разделе конструктора

Обычный член класса можно инициализировать в теле конструктора, но для этого придётся создать хотя бы один объект данного класа (также нужно контролировать проинициализирован этот член или нет). Всё это не очень удобно.

>Класс определяется в заголовчном файле, а методы в файле реализации

Поэтому где-то в файле реализации должна быть такая строчка:

```C++
int A::C = 1;
```

Наследование может быть по 3 схемам: `private`, `protected`, `public`

```C++
class A
{
private:
    int a;
protected:
    int b;
public:
    int f();
};

class B: {}A
{
private:
    int c;
protected:
    int d;
public:
    int g();
    using A::f;    // Конструкция возврата уровня доступа базового класса
}
```

## Работа с объектом в блоке

При ыфходе из блока с переменной, переменная пропадает

Но с объектом нужно понять когда объект разрушается

Добавляется метод, который назывется деструктор, и основной механизм вызова этого метода - неявный

Деструктор не принимает параметров и ничего не возвращает, вызывается знаком `~`

Пример:

```C++
class Array final
{
    double* ar;
    int count;
public:
    static Array minus(Array a);    // Создалась копия объекта
    Array(const Array& a);
    Array(Array&& a);
    Array() = default;

}

// В этом случае копируются сами поля данные, значит два объекта будут ссылаться на одну и ту же область памяти

~Array()
{
    delete[] ar;
}
```

Правило пяти (если захватываем ресурс, то в классе должны быть определены эти 5 конструкций):

* Конструктор копирования
* Конструктор переноса
* Деструктор
* Оператор присваивания копирования
* Оператор присваивания переноса

>Конструктор по умолчанию нельзя использовать, если используются другие конструкторы

Конструктор по умолчанию обнуляет все данные

Чтобы код был читаемым любое приведение должно быть явным

Чтобы конструкторы нельзя было неявно вызвать, используем модификатор `explicit`

Конструкторы копирования и принимающие один параметр должны работать с этим модификатором

Явное приведение типа в C++

```C++
<тип>(<выражение>)
```

Если после объявления класса стоит `final`, то от этого класса нельзя сделать призводные